#!/bin/bash

binary1="hello_world"
assembly="hello_world_asm"
assembly2="helloworld1"

echo "Building binaries in a terrible fashion..."

gcc src/${binary1}.c -o release/${binary1} -Wall
echo "${binary1} built"

echo "Building ${assembly} via assembly..."
nasm -f elf64 assembly/${assembly}.asm -o release/${assembly}.o
ld release/${assembly}.o -o release/${assembly}
echo "${assembly} built"

echo "Building ${assembly2} object file via assembly..."
nasm assembly/${assembly2}.s -o release/${assembly2}.o
echo "${assembly2} object file built"

echo "Analyzing ${assembly2} object file"
echo "Conducting hex dump:"
hexdump -C release/${assembly2}.o
echo "/nConducting ndisam:"
ndisasm -b32 release/${assembly2}.o

echo "Buildall script complete"